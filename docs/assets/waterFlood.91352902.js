import{_ as p}from"./OperateBox.9c1989a1.js";import{u as g,a as S,o as h,c as _,w as l,d as u,e as m}from"./index.f73e044e.js";import{E as y}from"./el-button.456a72d6.js";import{M as C}from"./measure.e1e1c825.js";const M={__name:"waterFlood",setup(w){const d=g(),{viewer:r}=d.state;new C(r),(()=>{let a=Cesium.Cartesian3.fromArray([0,0,0]),i={url:"http://data.mars3d.cn/3dtiles/max-fsdzm/tileset.json",modelMatrix:Cesium.Matrix4.fromTranslation(a),show:!0,skipLevelOfDetail:!0,baseScreenSpaceError:1024,maximumScreenSpaceError:32,skipScreenSpaceErrorFactor:16,skipLevels:1,immediatelyLoadDesiredLevelOfDetail:!1,loadSiblings:!1,cullWithChildrenBounds:!1,cullRequestsWhileMoving:!1,cullRequestsWhileMovingMultiplier:10,preloadWhenHidden:!0,preloadFlightDestinations:!0,preferLeaves:!0,maximumMemoryUsage:2048,progressiveResolutionHeightFraction:.5,dynamicScreenSpaceErrorDensity:10,dynamicScreenSpaceErrorFactor:1,dynamicScreenSpaceErrorHeightFalloff:.25,foveatedScreenSpaceError:!0,foveatedConeSize:.1,foveatedMinimumScreenSpaceErrorRelaxation:0,luminanceAtZenith:.2,backFaceCulling:!0,debugFreezeFrame:!1,debugColorizeTiles:!1,debugWireframe:!1,debugShowBoundingVolume:!1,debugShowContentBoundingVolume:!1,debugShowViewerRequestVolume:!1,debugShowGeometricError:!1,debugShowRenderingStatistics:!1,debugShowMemoryUsage:!1,debugShowUrl:!1,dynamicScreenSpaceError:!0};const s=new Cesium.Cesium3DTileset(i);r.scene.primitives.add(s),r.flyTo(s),s.allTilesLoaded.addEventListener(function(){console.log("\u6A21\u578B\u5DF2\u7ECF\u5168\u90E8\u52A0\u8F7D\u5B8C\u6210")})})();let n=null,o=null;const f=()=>{const a=[121.48033090358801,29.790483294870796,0,121.4778771950879,29.79083578574342,0,121.47877939338282,29.79193540741442,0,121.4804061804202,29.791480141327728,0];let e=10;const t=20;n=r.entities.add({polygon:{hierarchy:Cesium.Cartesian3.fromDegreesArrayHeights(a),material:Cesium.Color.fromBytes(64,157,253,200),perPositionHeight:!0,extrudedHeight:new Cesium.CallbackProperty(()=>e,!1)}}),o=setInterval(()=>{e<t&&(e+=.1,e>=t&&(e=t,clearInterval(o)))},50)},c=()=>{o&&clearInterval(o),r.entities.remove(n)};return S(()=>{c()}),(a,e)=>{const t=y,i=p;return h(),_(i,null,{default:l(()=>[u(t,{type:"primary",onClick:f},{default:l(()=>[m("\u5F00\u59CB\u6A21\u62DF")]),_:1}),u(t,{type:"primary",onClick:c},{default:l(()=>[m("\u5220\u9664")]),_:1})]),_:1})}}};export{M as default};
