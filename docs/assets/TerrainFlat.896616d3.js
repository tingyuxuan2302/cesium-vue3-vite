import{_ as h}from"./OperateBox.66cb383c.js";import{u as y,j as C,a as P,o as w,c as D,w as m,Y as T,d as p,h as c,l as b,e as f}from"./index.bc967ea1.js";import{E as A}from"./el-button.3d1567a4.js";import{P as E,E as V}from"./PlanishArea.ac3bd86f.js";import{D as x}from"./drawGraphic.773e8670.js";const j={__name:"TerrainFlat",setup(k){const g=y(),{viewer:o}=g.state,i=new x(o),r=new E;let l=C(0);o.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(114.26116,22.965522,5e3),orientation:{heading:Cesium.Math.toRadians(175),pitch:Cesium.Math.toRadians(-35),roll:0}});const v=s=>{i.clearAll(),u();const e=s.polygon.hierarchy.getValue().positions.map(a=>Cesium.Cartographic.fromCartesian(a));let t=[];e.forEach(a=>{let d=Cesium.Math.toDegrees(a.longitude),n=Cesium.Math.toDegrees(a.latitude);t.push(d),t.push(n)}),r.name="\u6D4B\u8BD5",r.area=t,r.height=l.value,_(r.uuid,t,r.height)},_=(s,e,t)=>{o.scene.terrainProvider.addTerrainEditsData(s,e,t),o.scene.globe._surface.invalidateAllTiles()},u=()=>{o.scene.terrainProvider.removeTerrainEditsData(r.uuid),o.scene.globe._surface.invalidateAllTiles(),i.clearAll()};return P(()=>{i.clearAll(),u()}),(s,e)=>{const t=V,a=A,d=h;return w(),D(d,null,{default:m(()=>[e[5]||(e[5]=T("div",{style:{color:"aliceblue"}},"\u9AD8\u5EA6\u8BBE\u7F6E(\u9ED8\u8BA4\u8BBE\u7F6E\u4E3A0\u4EE3\u8868\u538B\u5E73\u5904\u7406)",-1)),p(t,{label:"\u9AD8\u5EA6\u8BBE\u7F6E",type:"number",modelValue:c(l),"onUpdate:modelValue":e[0]||(e[0]=n=>b(l)?l.value=n:l=n),style:{width:"100px"}},null,8,["modelValue"]),p(a,{type:"primary",onClick:e[1]||(e[1]=n=>c(i).activate("Polygon",v))},{default:m(()=>e[3]||(e[3]=[f("\u5F00\u59CB\u7ED8\u5236")])),_:1}),p(a,{type:"primary",onClick:e[2]||(e[2]=n=>u())},{default:m(()=>e[4]||(e[4]=[f("\u6E05\u9664")])),_:1})]),_:1})}}};export{j as default};
