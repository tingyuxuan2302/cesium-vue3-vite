import{_}from"./OperateBox.5dea2f2a.js";import{h,a as y,o as C,c as P,w as m,X as w,d as p,u as c,k as D,e as f}from"./index.76f76e18.js";import{E as T}from"./el-button.46cdb001.js";import{E as b}from"./el-input.da568fc7.js";import{D as A}from"./drawGraphic.773e8670.js";import{P as E}from"./PlanishArea.3e6fd96f.js";const U={__name:"TerrainFlat",setup(V){const{viewer:o}=window,s=new A(o),r=new E;let l=h(0);o.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(114.26116,22.965522,5e3),orientation:{heading:Cesium.Math.toRadians(175),pitch:Cesium.Math.toRadians(-35),roll:0}});const g=i=>{s.clearAll(),u();const e=i.polygon.hierarchy.getValue().positions.map(a=>Cesium.Cartographic.fromCartesian(a));let t=[];e.forEach(a=>{let d=Cesium.Math.toDegrees(a.longitude),n=Cesium.Math.toDegrees(a.latitude);t.push(d),t.push(n)}),r.name="\u6D4B\u8BD5",r.area=t,r.height=l.value,v(r.uuid,t,r.height)},v=(i,e,t)=>{o.scene.terrainProvider.addTerrainEditsData(i,e,t),o.scene.globe._surface.invalidateAllTiles()},u=()=>{o.scene.terrainProvider.removeTerrainEditsData(r.uuid),o.scene.globe._surface.invalidateAllTiles(),s.clearAll()};return y(()=>{s.clearAll(),u()}),(i,e)=>{const t=b,a=T,d=_;return C(),P(d,null,{default:m(()=>[e[5]||(e[5]=w("div",{style:{color:"aliceblue"}},"\u9AD8\u5EA6\u8BBE\u7F6E(\u9ED8\u8BA4\u8BBE\u7F6E\u4E3A0\u4EE3\u8868\u538B\u5E73\u5904\u7406)",-1)),p(t,{label:"\u9AD8\u5EA6\u8BBE\u7F6E",type:"number",modelValue:c(l),"onUpdate:modelValue":e[0]||(e[0]=n=>D(l)?l.value=n:l=n),style:{width:"100px"}},null,8,["modelValue"]),p(a,{type:"primary",onClick:e[1]||(e[1]=n=>c(s).activate("Polygon",g))},{default:m(()=>e[3]||(e[3]=[f("\u5F00\u59CB\u7ED8\u5236")])),_:1}),p(a,{type:"primary",onClick:e[2]||(e[2]=n=>u())},{default:m(()=>e[4]||(e[4]=[f("\u6E05\u9664")])),_:1})]),_:1})}}};export{U as default};
