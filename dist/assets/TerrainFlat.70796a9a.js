import{_ as v}from"./OperateBox.9c1989a1.js";import{u as y,f as C,a as P,o as w,c as D,w as c,d as m,h as p,j as T,e as _,X as b}from"./index.f73e044e.js";import{E as A}from"./el-button.456a72d6.js";import{P as E,E as V}from"./PlanishArea.d1133ab6.js";import{D as x}from"./drawGraphic.823774fb.js";const k=b("div",{style:{color:"aliceblue"}},"\u9AD8\u5EA6\u8BBE\u7F6E(\u9ED8\u8BA4\u8BBE\u7F6E\u4E3A0\u4EE3\u8868\u538B\u5E73\u5904\u7406)",-1),F={__name:"TerrainFlat",setup(B){const f=y(),{viewer:o}=f.state,i=new x(o),r=new E;let l=C(0);o.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(114.26116,22.965522,5e3),orientation:{heading:Cesium.Math.toRadians(175),pitch:Cesium.Math.toRadians(-35),roll:0}});const h=s=>{i.clearAll(),u();const e=s.polygon.hierarchy.getValue().positions.map(a=>Cesium.Cartographic.fromCartesian(a));let t=[];e.forEach(a=>{let d=Cesium.Math.toDegrees(a.longitude),n=Cesium.Math.toDegrees(a.latitude);t.push(d),t.push(n)}),r.name="\u6D4B\u8BD5",r.area=t,r.height=l.value,g(r.uuid,t,r.height)},g=(s,e,t)=>{o.scene.terrainProvider.addTerrainEditsData(s,e,t),o.scene.globe._surface.invalidateAllTiles()},u=()=>{o.scene.terrainProvider.removeTerrainEditsData(r.uuid),o.scene.globe._surface.invalidateAllTiles(),i.clearAll()};return P(()=>{i.clearAll(),u()}),(s,e)=>{const t=V,a=A,d=v;return w(),D(d,null,{default:c(()=>[k,m(t,{label:"\u9AD8\u5EA6\u8BBE\u7F6E",type:"number",modelValue:p(l),"onUpdate:modelValue":e[0]||(e[0]=n=>T(l)?l.value=n:l=n),style:{width:"100px"}},null,8,["modelValue"]),m(a,{type:"primary",onClick:e[1]||(e[1]=n=>p(i).activate("Polygon",h))},{default:c(()=>[_("\u5F00\u59CB\u7ED8\u5236")]),_:1}),m(a,{type:"primary",onClick:e[2]||(e[2]=n=>u())},{default:c(()=>[_("\u6E05\u9664")]),_:1})]),_:1})}}};export{F as default};
