import{_ as C}from"./OperateBox.66cb383c.js";import{u as f,D as _,a as y,o as M,c as h,w as s,d as u,e as m}from"./index.bc967ea1.js";import{E as g}from"./el-button.3d1567a4.js";import"./request.00b81209.js";class n{constructor(e){this._definitionChanged=new Cesium.Event,this._color=void 0,this._speed=void 0,this.color=e.color,this.speed=e.speed}get isConstant(){return!1}get definitionChanged(){return this._definitionChanged}getType(e){return Cesium.Material.LineFlickerMaterialType}getValue(e,t){return Cesium.defined(t)||(t={}),t.color=Cesium.Property.getValueOrDefault(this._color,e,Cesium.Color.RED,t.color),t.speed=Cesium.Property.getValueOrDefault(this._speed,e,5,t.speed),t}equals(e){return this===e||e instanceof n&&Cesium.Property.equals(this._color,e._color)&&Cesium.Property.equals(this._speed,e._speed)}}Object.defineProperties(n.prototype,{color:Cesium.createPropertyDescriptor("color"),speed:Cesium.createPropertyDescriptor("speed")});Cesium.Material.LineFlickerMaterialProperty="LineFlickerMaterialProperty";Cesium.Material.LineFlickerMaterialType="LineFlickerMaterialType";Cesium.Material.LineFlickerMaterialSource=`
uniform vec4 color;
uniform float speed;
czm_material czm_getMaterial(czm_materialInput materialInput){
czm_material material = czm_getDefaultMaterial(materialInput);
float time = fract( czm_frameNumber  *  speed / 1000.0);
vec2 st = materialInput.st;
float scalar = smoothstep(0.0,1.0,time);
material.diffuse = color.rgb * scalar;
material.alpha = color.a * scalar ;
return material;
}
`;Cesium.Material._materialCache.addMaterial(Cesium.Material.LineFlickerMaterialType,{fabric:{type:Cesium.Material.LineFlickerMaterialType,uniforms:{color:new Cesium.Color(1,0,0,1),speed:5},source:Cesium.Material.LineFlickerMaterialSource},translucent:function(p){return!0}});const k="/cesium-vue3-vite/json/qdRoad_less.geojson",D={__name:"highlightRoad",setup(p){const e=f(),{viewer:t}=e.state;_(()=>{t.scene.terrainProvider=new Cesium.EllipsoidTerrainProvider({})}),t.camera.setView({destination:Cesium.Cartesian3.fromDegrees(120.188,36.67,2e5)});let i=null;const d=()=>{i=new Cesium.GeoJsonDataSource,i.load(k).then(function(c){const r=c.entities.values;for(let a=0;a<r.length;a++){let o=r[a];o.polyline.width=3,o.polyline.material=new n({color:Cesium.Color.YELLOW,speed:20*Math.random()})}}),t.dataSources.add(i)},l=()=>{t.dataSources.remove(i)};return y(()=>{l(),t.scene.terrainProvider=new Cesium.CesiumTerrainProvider({url:"http://data.marsgis.cn/terrain"})}),(c,r)=>{const a=g,o=C;return M(),h(o,null,{default:s(()=>[u(a,{type:"primary",onClick:d},{default:s(()=>r[0]||(r[0]=[m("\u5F00\u59CB")])),_:1}),u(a,{type:"primary",onClick:l},{default:s(()=>r[1]||(r[1]=[m("\u6E05\u9664")])),_:1})]),_:1})}}};export{D as default};
